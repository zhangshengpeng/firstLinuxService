<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" href="./css/swiper.min.css">    
  <title>等级积分</title>
</head>
<body>
  <div v-cloak id="app">
    <div class="jf-header">
      <div style="display: flex; justify-content: flex-end;">
        <a href="https://h5.welian.com/toutiao/preview/5591" class="level-rule">
          等级说明
        </a>
      </div>
      <div class="jifen-level">
        <div class="jifen-number">
          <div>白银投手80</div>
          <div class="number-flex">
            <div class="number-flex-level">青铜投手30</div>
            <div class="space1"></div>
            <div class="number-flex-level">黄金投手150</div>
          </div>
          <div class="number-flex">
            <div class="number-flex-level">黑铁投手0</div>
            <div class="space2"></div>
            <div class="number-flex-level">钻石投手230</div>
          </div>
        </div>
        <div class="my-number">
          <img :src="`https://fed.welian.com/2_h5/investor_grade/level/level${(userLevel)}.png`" style="width: 210px; height:88px;">
          <div class="current-number">
            <p>{{ monthlyViewed }}</p>
            <p>当前查看项目数</p>
            <p style="font-size: 10px; font: weight 400; line-height: 16px;">（更新周期为1个小时）</p>
          </div>
        </div>
      </div>
      <div>
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <!-- 黑铁投手 -->
            <div class="swiper-slide my-slider">
              <div class="card" :class="activeIndex===0? 'is-active':'' " style="background: url(https://fed.welian.com/2_h5/investor_grade/card/level1-card.png);background-size:100% 100%;">
                <div class="card-header">
                  <div style="text-align: left;">
                    <div style="font-size: 17px; font-weight: 500; color: #ffffff;margin-bottom: 8px;">
                      黑铁投手
                      <span :class="userLevel===1? 'show' : 'hidden'" style="padding:2px 6px;color: #ffffff; font-size: 12px; line-height: 16px; border-radius: 10px; background: rgba(0,0,0,0.1)">
                        当前等级
                      </span>
                    </div>
                  </div>
                  <div>
                    <img class="card-sign" src="https://fed.welian.com/2_h5/investor_grade/card/level1-sign.png">
                  </div>
                </div>
                <div class="card-privilege" style="justify-content: flex-start;">
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item" >
                      <p style="font-size: 16px; line-height: 40px; margin: 0;">¥3</p>
                    </div>
                    <p style="margin-top:6px">项目红包</p>
                  </div>
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/integral.png" style="width: 18px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">1倍积分</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- 青铜投手 -->
            <div class="swiper-slide my-slider">
              <div class="card" :class="activeIndex===1? 'is-active':'' " style="background: url(https://fed.welian.com/2_h5/investor_grade/card/level2-card.png);background-size:100% 100%;">
                <div class="card-header">
                  <div style="text-align: left;">
                    <div style="font-size: 17px; font-weight: 500; color: #ffffff;margin-bottom: 8px;">
                      青铜投手
                      <span :class="userLevel===2? 'show' : 'hidden'" style="padding:2px 6px;color: #ffffff; font-size: 12px; line-height: 16px; border-radius: 10px; background: rgba(0,0,0,0.1)">
                        当前等级
                      </span>
                    </div>
                  </div>
                  <div>
                    <img class="card-sign" src="https://fed.welian.com/2_h5/investor_grade/card/level2-sign.png">
                  </div>
                </div>
                <div class="card-privilege" style="justify-content: flex-start;">
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item" >
                      <p style="font-size: 16px; line-height: 40px; margin: 0;">¥6</p>
                    </div>
                    <p style="margin-top:6px">项目红包</p>
                  </div>
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/integral.png" style="width: 18px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">2倍积分</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- 白银 -->
            <div class="swiper-slide my-slider">
              <div class="card" :class="activeIndex===2? 'is-active':'' " style="background: url(https://fed.welian.com/2_h5/investor_grade/card/level3-card.png);background-size:100% 100%;">
                <div class="card-header">
                  <div style="text-align: left;">
                    <div style="font-size: 17px; font-weight: 500; color: #ffffff;margin-bottom: 8px;">
                      白银投手
                      <span :class="userLevel===3? 'show' : 'hidden'" style="padding:2px 6px;color: #ffffff; font-size: 12px; line-height: 16px; border-radius: 10px; background: rgba(0,0,0,0.1)">
                        当前等级
                      </span>
                    </div>
                  </div>
                  <div>
                    <img class="card-sign" src="https://fed.welian.com/2_h5/investor_grade/card/level3-sign.png">
                  </div>
                </div>
                <div class="card-privilege" style="justify-content: flex-start;">
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item" >
                      <p style="font-size: 16px; line-height: 40px; margin: 0;">¥12</p>
                    </div>
                    <p style="margin-top:6px">项目红包</p>
                  </div>
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/server.png" style="width: 22px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">专属管家</p>
                  </div>
                  <div style="margin: 0 0 0 20px;">
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/integral.png" style="width: 18px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">3倍积分</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- 黄金 -->
            <div class="swiper-slide my-slider">
              <div class="card" :class="activeIndex===3? 'is-active':'' " style="background: url(https://fed.welian.com/2_h5/investor_grade/card/level4-card.png);background-size:100% 100%;">
                <div class="card-header">
                  <div style="text-align: left;">
                    <div style="font-size: 17px; font-weight: 500; color: #ffffff;margin-bottom: 8px;">
                      黄金投手
                      <span :class="userLevel===4? 'show' : 'hidden'" style="padding:2px 6px;color: #ffffff; font-size: 12px; line-height: 16px; border-radius: 10px; background: rgba(0,0,0,0.1)">
                        当前等级
                      </span>
                    </div>
                  </div>
                  <div>
                    <img class="card-sign" src="https://fed.welian.com/2_h5/investor_grade/card/level4-sign.png">
                  </div>
                </div>
                <div class="card-privilege">
                  <div>
                    <div class="card-privilege-item">
                      <p style="font-size: 16px; line-height: 40px; margin: 0;">¥15</p>
                    </div>
                    <p style="margin-top:6px">项目红包</p>
                  </div>
                  <div>
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/server.png" style="width: 22px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">专属管家</p>
                  </div>
                  <div>
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/decoration.png" style="width: 22px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">等级勋章</p>
                  </div>
                  <div>
                    <div class="card-privilege-item">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/integral.png" style="width: 18px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">4倍积分</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- 钻石 -->
            <div class="swiper-slide my-slider">
              <div class="card" :class="activeIndex===4? 'is-active':'' " style="background: url(https://fed.welian.com/2_h5/investor_grade/card/level5-card.png);background-size:100% 100%;">
                <div class="card-header">
                  <div style="text-align: left;">
                    <div style="font-size: 17px; font-weight: 500; color: #1D1D1D;margin-bottom: 8px;">
                      钻石投手
                      <span :class="userLevel===5? 'show' : 'hidden'" style="padding:2px 6px;color: #ffffff; font-size: 12px; line-height: 16px; border-radius: 10px; background: rgba(0,0,0,0.1)">
                        当前等级
                      </span>
                    </div>
                  </div>
                  <div>
                    <img class="card-sign" src="https://fed.welian.com/2_h5/investor_grade/card/level5-sign.png">
                  </div>
                </div>
                <div class="card-privilege" style="color: #666666;">
                  <div style="color: #1D1D1D;">
                    <div class="card-privilege-item5">
                      <p style="font-size: 16px; line-height: 40px; margin: 0;">¥18</p>
                    </div>
                    <p style="margin-top:6px">项目红包</p>
                  </div>
                  <div>
                    <div class="card-privilege-item5">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/level5-server.png" style="width: 22px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">专属管家</p>
                  </div>
                  <div>
                    <div class="card-privilege-item5">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/level5-decoration.png" style="width: 22px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">等级勋章</p>
                  </div>
                  <div>
                    <div class="card-privilege-item5">
                      <img src="https://fed.welian.com/2_h5/investor_grade/card/level5-integral.png" style="width: 18px; height: 20px;margin-top: 10px;">
                    </div>
                    <p style="margin-top:6px">5倍积分</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div style="position: absolute;text-align: center;width: 100vw;">
        <div class="jifen">
          <div style="text-align: left;">
            <div>
              <img style="width: 10px; height: 11px" src="https://fed.welian.com/2_h5/investor_grade/card/jifen.png">
              <span style="color: #333333;font-size: 14px;font-weight: 400;">微链积分</span>
            </div>
            <p style="font-size: 32px; color: #333333;font-weight: 500;margin: 6px 0 0 0;">{{ integral }}</p>
            <p style="color: #999999;font-size: 10px;margin-top: 8px;">积分当月有效，更新周期为1个小时</p>
          </div>
          <div class="jf-detail" ><a style="color: #0F6EF4;text-decoration: none;" href="./detail.html">查看明细</a></div>
        </div>
      </div>
    </div>
    <div class="jf-main">
      <div style="display: flex;justify-content: center;font-size: 17px; color: #333333;font-weight: 500;margin-bottom: 4px;">
        <div class="line"></div>
        积分兑换
        <div class="line"></div>
      </div>
      <div class="main-box">
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item1.png">
          <div class="item-text">
            <p class="item-name">瑞幸27元通兑券</p>
            <p class="item-price"><span>2000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item2.png">
          <div class="item-text">
            <p class="item-name">100元星巴克星礼卡</p>
            <p class="item-price"><span>10000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item3.png">
          <div class="item-text">
            <p class="item-name">200元星巴克星礼卡</p>
            <p class="item-price"><span>20000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item4.png">
          <div class="item-text">
            <p class="item-name">精准对接项目1次</p>
            <p class="item-price"><span>5000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item5.png">
          <div class="item-text">
            <p class="item-name">500元星巴克星礼卡</p>
            <p class="item-price"><span>50000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item6.png">
          <div class="item-text">
            <p class="item-name">100元星京东e卡</p>
            <p class="item-price"><span>10000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item7.png">
          <div class="item-text">
            <p class="item-name">1000元星京东e卡</p>
            <p class="item-price"><span>100000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item8.png">
          <div class="item-text">
            <p class="item-name">500元星京东e卡</p>
            <p class="item-price"><span>50000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item9.png">
          <div class="item-text">
            <p class="item-name">30元话费</p>
            <p class="item-price"><span>3000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item10.png">
          <div class="item-text">
            <p class="item-name">50元话费</p>
            <p class="item-price"><span>5000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item11.png">
          <div class="item-text">
            <p class="item-name">100元话费</p>
            <p class="item-price"><span>10000</span> 积分兑换</p>
          </div>
        </a>
        <a class="main-item"  href="./goods-detail.html">
          <img src="https://fed.welian.com/2_h5/investor_grade/goods/item12.png">
          <div class="item-text">
            <p class="item-name">200元话费</p>
            <p class="item-price"><span>20000</span> 积分兑换</p>
          </div>
        </a>
        <div class="main-end">
          到底啦~
        </div>
      </div>
    </div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://fed.welian.com/libs/other/jwelian-2.1.0.min.js"></script>
<script src="https://cdn.bootcss.com/vConsole/3.3.4/vconsole.min.js"></script>

<script src="./js/jquery-1.11.3.min.js"></script>
<script src="./js/swiper.min.js"></script>

<script>
  // let vConsole = new VConsole();
  let app = new Vue ({
    el: '#app',
    data: {
      uid:'0',
      monthlyViewed: 0,
      integral: 0,
      userLevel: 1,
      activeIndex: 0,

    },
    mounted() {
      jwl.login({
        success: (res)=>{
          this.uid = res.uid
          this.dateInit()
        },
        fail: (err)=>{
          this.swiperInit()
          console.log(err)
        }
      })
    },
    methods:{
      swiperInit() {
        const that = this
        this.mySwiper = new Swiper ('.swiper-container', {
          direction: 'horizontal', // 垂直切换选项
          loop: false, // 循环模式选项
          slidesPerView : 1.15,
          centeredSlides: true,//居中
          initialSlide :that.userLevel-1,
          on: {
            transitionStart: function(){
              that.activeIndex = this.activeIndex
            }
          }
        })
      },
      dateInit() {
        let myAxios = axios.create({
          baseURL: 'http://dev-h5.welian.com/',
          timeout: 1000
        });
        myAxios.get(`investor/getInvestorGrade/${this.uid}`)
          .then((res)=>{
            let data = res.data.data
            if(data.grade>0&&data.grade<6){
              this.userLevel = data.grade
              this.integral = data.integral
              this.monthlyViewed = data.monthlyViewed
              this.swiperInit()
            } else {
              this.swiperInit()
              return
            }
          })
          .catch((err)=>{
            this.swiperInit()
            console.log(err)
          })
      }
    }
  })
    
</script>
</body>
</html>